# Deferring Works

When to use which:

* Work qeueus
* Tasklets
* Softirqs
* Timer

## Work Queues

Header file: [`linux/workqueue.h`](https://elixir.bootlin.com/linux/v6.1.65/source/include/linux/workqueue.h)

* Normal work
* Delayed work
* Deferrable work

System and custom work queue (`schedule_work` and `queue_work`)

**Example 1**

```c
#include <linux/module.h>
#include <linux/printk.h>
#include <linux/workqueue.h>

void my_work_handler(struct work_struct *work)
{
	printk("do something\n");
}
DELCARE_WORK(my_work, my_work_handler);

static int demo_init(void)
{
	printk("init\n");
	schedule_work(my_work);
	return 0;
}

static void demo_exit(void)
{
	printk("exit\n");
}

module_init(demo_init);
module_exit(demo_exit);

MODULE_LICENSE("GPL");
```

## Tasklets

## Softirqs

## Reference

* https://docs.kernel.org/core-api/workqueue.html